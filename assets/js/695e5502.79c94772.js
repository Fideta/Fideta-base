"use strict";(self.webpackChunkfideta_site=self.webpackChunkfideta_site||[]).push([[862],{4454:(e,n,t)=>{t.r(n),t.d(n,{default:()=>d});var r=t(6540),a=t(1656),o=t(4848);function d(){return(0,r.useEffect)(()=>{if(window.innerWidth>768)return alert("\ud83d\udcf5 Cette page est r\xe9serv\xe9e aux appareils mobiles."),void(window.location.href="/");const e=document.createElement("script");e.src="https://unpkg.com/@ericblade/quagga2@1.2.6/dist/quagga.min.js",e.onload=()=>{console.log("\ud83d\udce6 QuaggaJS charg\xe9");const e=()=>{window.Quagga?(window.Quagga.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#scanner"),constraints:{facingMode:"environment"}},decoder:{readers:["ean_reader"],debug:{drawBoundingBox:!0,showPattern:!0}},locate:!0},e=>{if(e)return console.error(e),void alert("Erreur cam\xe9ra : "+e.message);window.Quagga.start(),alert("\ud83d\udcf7 Cam\xe9ra pr\xeate !")}),window.Quagga.onDetected(e=>{console.log("\ud83d\udce6 Donn\xe9es brutes d\xe9tect\xe9es :",e);const n=e.codeResult?.code;n?(alert("\u2705 Code d\xe9tect\xe9 : "+n),fetch("/ean-index.json").then(e=>e.json()).then(e=>{const t=e[n];t?window.location.href=t:alert("Produit non reconnu : "+n)})):console.warn("\ud83d\udeab Code vide ou invalide d\xe9tect\xe9")})):alert("Quagga non charg\xe9")},n=document.getElementById("startScannerBtn");n&&n.addEventListener("click",e)},document.body.appendChild(e)},[]),(0,o.jsx)(a.A,{title:"Scanner un produit",children:(0,o.jsxs)("div",{style:{padding:"2rem"},children:[(0,o.jsx)("h1",{children:"Scanner un produit"}),(0,o.jsx)("p",{children:"\ud83d\udcf2 Appuie sur le bouton ci-dessous pour activer la cam\xe9ra."}),(0,o.jsx)("div",{style:{textAlign:"center",marginBottom:"1rem"},children:(0,o.jsx)("button",{id:"startScannerBtn",style:{padding:"1rem 2rem",backgroundColor:"#2e8555",color:"white",fontSize:"1.2rem",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"\ud83d\udcf7 D\xe9marrer la cam\xe9ra"})}),(0,o.jsx)("div",{id:"scanner",style:{width:"100%",maxWidth:"400px",height:"300px",background:"#eee",borderRadius:"8px",overflow:"hidden",margin:"0 auto"}})]})})}}}]);